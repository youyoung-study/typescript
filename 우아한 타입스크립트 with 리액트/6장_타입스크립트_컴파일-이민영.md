
1. 런타임과 컴파일타임
    - 프로그래밍 언어는 일반적으로 고수준과 저수준 언어로 구분할 수 있다.
        - 고수준 언어 : 사람이 이해하기 쉬운 형식 ex) 자바스크립트, 파이썬(인터프리터 언어), 자바 , C++
        - 저수준 언어: 컴퓨터가 이해하기 쉬운 형식 ex)기계어, 어셈블리어
    - 컴파일 타임 : 소스코드가 컴파일러에 의해 기계어 코드로 변환되는 시간

2. 자바스크립트 런타임

   : 자바스크립트가 실행되는 환경 ex) 브라우저, Node.js 등

   주요구성요소 : 자바스크립트 엔진, 웹API, 콜백 큐, 이벤트 루프, 렌더 큐

   자바스크립트는 기본적으로 런타임 에러만 발생

3. 타입스크립트의 컴파일

   TSC : 타입스크립트 → 자바스크립트 컴파일러(트랜스파일)

   타입스크립트는 컴파일 타임에 타입을 검사하기 떄문에 컴파일 에러가 발생할 수 있음.

4. 코드 검사기로서의 타입스크립트 컴파일러

   타입스크립트는 정적으로 코드를 분석하여 에러를 검출하며, 코드를 실행하기 전에 런타임에서 발생할 수 있는 에러를 사전에 알려줌. ⇒ 문법 에러 및 타입 관련 에러를 모두 검출

   tsc binder 를 사용하여 타입 검사

5. 코드 변환기로서의 타입스크립트 컴파일러

   런타임 환경에 맞게 코드를 트랜스 파일함. (구버전 자바스크립트 엔진도 지원)

   브라우저에서 바로 타입스크립트 소스코드를 실행할 수 없음.

   컴파일 이후에는 타입이 제거되어 순수한 자바스크립트 코드만 남기때문에 컴파일된 코드가 실행되고 있는 런타임에서는 타입검사를 할 수 없음

   (바벨+)

    ```jsx
    interface Square {
    	width: number;
    }
    interface Rectangle extends Square{
    	height : number;
    }
    
    type Shape = Square | Rectangle;
    
    function calculateArea(shape: Shape){
    	if(shape instanceof Rectangle){
    	// instanceof 체크는 런타임에 실행됨.
    	}
    }
    ```

   # 타입스크립트 컴파일러의 구체적인 동작

    1. 프로그램

       타입스크립트 컴파일러는 tsconfig.json 에 명시된 옵션을 기반으로 컴파일 수행됨.

       먼저 컴파일 과정을 관리하는 프로그램 객체(인스턴스)가 생성되고, 이 프로그램 객체는 컴파일할 타입스크립트 소스 파일과 소스 내에 임포트된 파일을 불러오는데 가장 최초로 불러온 파일을 기준으로 컴파일이 시작됨.
![compile2.jpg](..%2Fimages%2Fcompile2.jpg)
    2. 스캐너

       : 타입스크립트 소스를 어휘적으로 분석하여 토큰을 생성하는 역할

       (소스코드를 의미있는 토큰으로 변환하는 과정)
![compile1.png](..%2Fimages%2Fcompile1.png)

       const, ,woowa, ,=, ‘bros’, ;

    3. 파서

       토큰 정보를 이용하여 AST 생성  (구문적 분석)
![compile3.jpg](..%2Fimages%2Fcompile3.jpg)
       AST: 컴파일러가 동작하는 데 핵심 기반이 되는 자료 구조이며, 소스 구조를 트리 형태로 표현함.

    4. 바인더

       체커 단계에서 타입 검사를 할 수 있도록 기반 마련

       타입 검사를 위해 심볼 생성하고 AST노드를 연결

       심볼 :  AST에 선언된 타입의 노드 정보를 저장

    5. 체커와 이미터

       체커 : 파서가 생성한 AST와 바인더가 생성한 심볼을 활용하여 타입 검사 수행

       이미터 : 타입스크립트 소스파일을 자바스크립트 (js) 파일과 타입 선언 파일(d.ts) 로 생성